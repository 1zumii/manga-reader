import{d as y,c as g,S as B,a as p,b as l,i as v,s as w,P as F,t as b,A as N,g as U,F as j,e as E,f as z,u as H,h as T}from"./index.4dccaccd.js";import{U as A}from"./url-transformer.6b2c128d.js";const W="_root_1jgab_1",G="_bg-mask_1jgab_36",J="_detail-drawer_1jgab_44",K="_brief-info_1jgab_62",O="_chapter-list_1jgab_79",Q="_chapter_1jgab_79",m={root:W,bgMask:G,detailDrawer:J,briefInfo:K,chapterList:O,chapter:Q},X=b("<div>"),Y=b('<div><div><img alt="cover"><h5></div><div>'),Z=o=>{const c=()=>{o.onClose()},u=(t,r)=>g(j,{each:t,children:({name:s,index:n})=>g(N,{get class(){return m.chapter},get href(){return U({mangaId:r,chapterIndex:n,pageIndex:1})},children:s})});return g(F,{get mount(){return document.getElementById("root")??void 0},get children(){return g(B,{get when(){return o.info},children:t=>[(()=>{const r=X();return r.$$click=c,p(()=>l(r,m.bgMask)),r})(),(()=>{const r=Y(),s=r.firstChild,n=s.firstChild,e=n.nextSibling,$=s.nextSibling;return v(e,()=>t().title),v($,()=>u(t().chapters,t().id)),p(a=>{const _=m.detailDrawer,d=m.briefInfo,f=A.getCover(t().id),D=m.chapterList;return _!==a._v$&&l(r,a._v$=_),d!==a._v$2&&l(s,a._v$2=d),f!==a._v$3&&w(n,"src",a._v$3=f),D!==a._v$4&&l($,a._v$4=D),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()]})}})};y(["click"]);const V=()=>{const[o,c]=E();return{currentDetail:o,openDrawer:r=>{c(r)},closeDrawer:()=>{c(void 0)}}},ee="_root_17pwp_1",te="_search-panel_17pwp_36",ne="_prefixIcon_17pwp_49",re="_input_17pwp_57",x={root:ee,searchPanel:te,prefixIcon:ne,input:re},ae=b('<div><div></div><input type="text">'),se=o=>{let c;const u=t=>{t.code==="Enter"&&o.onSearch(c.value)};return(()=>{const t=ae(),r=t.firstChild,s=r.nextSibling;s.$$keyup=u;const n=c;return typeof n=="function"?H(n,s):c=s,p(e=>{const $=x.searchPanel,a={[o.class]:!!o.class},_=x.prefixIcon,d=x.input;return $!==e._v$&&l(t,e._v$=$),e._v$2=z(t,a,e._v$2),_!==e._v$3&&l(r,e._v$3=_),d!==e._v$4&&l(s,e._v$4=d),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()};y(["keyup"]);const ie="_root_uyrqp_1",ce="_search-panel_uyrqp_36",oe="_prefixIcon_uyrqp_49",le="_input_uyrqp_57",_e="_home_uyrqp_67",de="_base-info-list_uyrqp_79",ue="_card_uyrqp_85",ve="_title_uyrqp_99",$e="_description_uyrqp_107",h={root:ie,searchPanel:ce,prefixIcon:oe,input:le,home:_e,baseInfoList:de,card:ue,title:ve,description:$e},R=b("<div>"),he=b('<div><img loading="lazy"><div></div><div>\u66F4\u65B0\u81F3\u300C<!>\u300D'),ge=()=>{const o=T(),c=()=>o()??[],[u,t]=E(c()),r=s=>{if(!s){t(c());return}const n=c().filter(({title:e})=>e.includes(s));t(n)};return{mangaList:u,isLoading:o.loading,handleSearch:r}},me=()=>{const{mangaList:o,handleSearch:c}=ge(),{currentDetail:u,openDrawer:t,closeDrawer:r}=V(),s=()=>(()=>{const n=R();return v(n,g(j,{get each(){return o()},children:e=>{const $=e.chapters[e.chapters.length-1];return(()=>{const a=he(),_=a.firstChild,d=_.nextSibling,f=d.nextSibling,D=f.firstChild,S=D.nextSibling;return S.nextSibling,a.$$click=t,a.$$clickData=e,v(d,()=>e.title),v(f,()=>$.name,S),p(i=>{const I=h.card,L=h.cover,C=A.getCover(e.id),k=`cover-${e.id}`,M=h.title,q=e.title,P=h.description;return I!==i._v$&&l(a,i._v$=I),L!==i._v$2&&l(_,i._v$2=L),C!==i._v$3&&w(_,"src",i._v$3=C),k!==i._v$4&&w(_,"alt",i._v$4=k),M!==i._v$5&&l(d,i._v$5=M),q!==i._v$6&&w(d,"title",i._v$6=q),P!==i._v$7&&l(f,i._v$7=P),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),a})()}})),p(()=>l(n,h.baseInfoList)),n})();return(()=>{const n=R();return v(n,g(se,{get class(){return h.searchPanel},onSearch:c}),null),v(n,s,null),v(n,g(Z,{get info(){return u()},onClose:r}),null),p(()=>l(n,h.home)),n})()};y(["click"]);export{me as default};
