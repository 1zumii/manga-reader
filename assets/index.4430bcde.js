import{d as x,c as f,S as B,a as m,b as l,i as $,s as D,P as F,t as b,A as N,g as U,F as R,e as j,f as z,u as H,h as T}from"./index.5a1d1ff1.js";import{U as E}from"./url-transformer.6b2c128d.js";const W="_root_1jgab_1",G="_bg-mask_1jgab_36",J="_detail-drawer_1jgab_44",K="_brief-info_1jgab_62",O="_chapter-list_1jgab_79",Q="_chapter_1jgab_79",p={root:W,bgMask:G,detailDrawer:J,briefInfo:K,chapterList:O,chapter:Q},X=b("<div>"),Y=b('<div><div><img alt="cover"><h5></div><div>'),Z=r=>{const a=()=>{r.onClose()},v=(e,i)=>f(R,{each:e,children:({name:c},n)=>f(N,{get class(){return p.chapter},get href(){return U({mangaId:i,chapterIndex:n()+1,pageIndex:1})},children:c})});return f(F,{get mount(){return document.getElementById("root")??void 0},get children(){return f(B,{get when(){return r.info},get children(){return[(()=>{const e=X();return e.$$click=a,m(()=>l(e,p.bgMask)),e})(),(()=>{const e=Y(),i=e.firstChild,c=i.firstChild,n=c.nextSibling,t=i.nextSibling;return $(n,()=>r.info.title),$(t,()=>v(r.info.chapters,r.info.id)),m(o=>{const _=p.detailDrawer,d=p.briefInfo,u=E.getCover(r.info.id),g=p.chapterList;return _!==o._v$&&l(e,o._v$=_),d!==o._v$2&&l(i,o._v$2=d),u!==o._v$3&&D(c,"src",o._v$3=u),g!==o._v$4&&l(t,o._v$4=g),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})()]}})}})};x(["click"]);const V=()=>{const[r,a]=j();return{currentDetail:r,openDrawer:i=>{a(i)},closeDrawer:()=>{a(void 0)}}},ee="_root_17pwp_1",te="_search-panel_17pwp_36",ne="_prefixIcon_17pwp_49",re="_input_17pwp_57",w={root:ee,searchPanel:te,prefixIcon:ne,input:re},ae=b('<div><div></div><input type="text">'),se=r=>{let a;const v=e=>{e.code==="Enter"&&(console.log(a.value),r.onSearch(a.value))};return(()=>{const e=ae(),i=e.firstChild,c=i.nextSibling;c.$$keyup=v;const n=a;return typeof n=="function"?H(n,c):a=c,m(t=>{const o=w.searchPanel,_={[r.class]:!!r.class},d=w.prefixIcon,u=w.input;return o!==t._v$&&l(e,t._v$=o),t._v$2=z(e,_,t._v$2),d!==t._v$3&&l(i,t._v$3=d),u!==t._v$4&&l(c,t._v$4=u),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})()};x(["keyup"]);const ie="_root_uyrqp_1",ce="_search-panel_uyrqp_36",oe="_prefixIcon_uyrqp_49",le="_input_uyrqp_57",_e="_home_uyrqp_67",de="_base-info-list_uyrqp_79",ue="_card_uyrqp_85",ve="_title_uyrqp_99",$e="_description_uyrqp_107",h={root:ie,searchPanel:ce,prefixIcon:oe,input:le,home:_e,baseInfoList:de,card:ue,title:ve,description:$e},P=b("<div>"),he=b('<div><img loading="lazy"><div></div><div>\u66F4\u65B0\u81F3\u300C<!>\u300D'),fe=()=>{const r=T(),a=()=>r()??[],[v,e]=j(a()),i=c=>{if(!c){e(a());return}const n=a().filter(({title:t})=>t.includes(c));e(n)};return{mangaList:v,isLoading:r.loading,handleSearch:i}},pe=()=>{const{mangaList:r,handleSearch:a}=fe(),{currentDetail:v,openDrawer:e,closeDrawer:i}=V(),c=()=>(()=>{const n=P();return $(n,f(R,{get each(){return r()},children:t=>{const o=t.chapters[t.chapters.length-1];return(()=>{const _=he(),d=_.firstChild,u=d.nextSibling,g=u.nextSibling,A=g.firstChild,y=A.nextSibling;return y.nextSibling,_.$$click=e,_.$$clickData=t,$(u,()=>t.title),$(g,()=>o.name,y),m(s=>{const I=h.card,S=h.cover,L=E.getCover(t.id),C=`cover-${t.id}`,k=h.title,M=t.title,q=h.description;return I!==s._v$&&l(_,s._v$=I),S!==s._v$2&&l(d,s._v$2=S),L!==s._v$3&&D(d,"src",s._v$3=L),C!==s._v$4&&D(d,"alt",s._v$4=C),k!==s._v$5&&l(u,s._v$5=k),M!==s._v$6&&D(u,"title",s._v$6=M),q!==s._v$7&&l(g,s._v$7=q),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),_})()}})),m(()=>l(n,h.baseInfoList)),n})();return(()=>{const n=P();return $(n,f(se,{get class(){return h.searchPanel},onSearch:a}),null),$(n,c,null),$(n,f(Z,{get info(){return v()},onClose:i}),null),m(()=>l(n,h.home)),n})()};x(["click"]);export{pe as default};
