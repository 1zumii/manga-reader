import{d as p,c as m,S as F,a as f,b as l,i as $,s as D,P as N,t as x,F as E,g as U,e as A,f as j,u as z,h as H,j as T}from"./index.97f0ec4a.js";import{U as B}from"./url-transformer.6b2c128d.js";const W="_root_1iiqr_1",G="_bg-mask_1iiqr_50",J="_detail-drawer_1iiqr_58",K="_brief-info_1iiqr_77",O="_chapter-list_1iiqr_94",Q="_chapter_1iiqr_94",b={root:W,bgMask:G,detailDrawer:J,briefInfo:K,chapterList:O,chapter:Q},X=x('<a target="_blank" rel="noreferrer">'),Y=x("<div>"),Z=x('<div><div><img alt="cover"><h5></h5></div><div>'),V=o=>{const s=()=>{o.onClose()},u=(t,i)=>m(E,{each:t,children:({name:a,index:r})=>(()=>{const e=X();return $(e,a),f(_=>{const n=b.chapter,d=`${window.location.pathname}#${U({mangaId:i,chapterIndex:r,pageIndex:1})}`;return n!==_._v$&&l(e,_._v$=n),d!==_._v$2&&D(e,"href",_._v$2=d),_},{_v$:void 0,_v$2:void 0}),e})()});return m(N,{get mount(){return document.getElementById("root")??void 0},get children(){return m(F,{get when(){return o.info},children:t=>[(()=>{const i=Y();return i.$$click=s,f(()=>l(i,b.bgMask)),i})(),(()=>{const i=Z(),a=i.firstChild,r=a.firstChild,e=r.nextSibling,_=a.nextSibling;return $(e,()=>t().title),$(_,()=>u(t().chapters,t().id)),f(n=>{const d=b.detailDrawer,v=b.briefInfo,g=B.getCover(t().id),w=b.chapterList;return d!==n._v$3&&l(i,n._v$3=d),v!==n._v$4&&l(a,n._v$4=v),g!==n._v$5&&D(r,"src",n._v$5=g),w!==n._v$6&&l(_,n._v$6=w),n},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),i})()]})}})};p(["click"]);const ee=()=>{const[o,s]=A();return{currentDetail:o,openDrawer:i=>{s(i)},closeDrawer:()=>{s(void 0)}}},te="_root_1xsmy_1",ne="_search-panel_1xsmy_50",re="_prefixIcon_1xsmy_63",ie="_input_1xsmy_76",S={root:te,searchPanel:ne,prefixIcon:re,input:ie},se=x('<div><div></div><input type="text">'),ae=o=>{let s;const u=t=>{t.code==="Enter"&&o.onSearch(s.value)};return(()=>{const t=se(),i=t.firstChild,a=i.nextSibling;a.$$keyup=u;const r=s;return typeof r=="function"?z(r,a):s=a,f(e=>{const _=S.searchPanel,n={[o.class]:!!o.class},d=S.prefixIcon,v=S.input;return _!==e._v$&&l(t,e._v$=_),e._v$2=j(t,n,e._v$2),d!==e._v$3&&l(i,e._v$3=d),v!==e._v$4&&l(a,e._v$4=v),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()};p(["keyup"]);const ce="_root_15770_1",oe="_search-panel_15770_50",le="_prefixIcon_15770_63",_e="_input_15770_76",de="_home_15770_87",ve="_base-info-list_15770_99",$e="_card_15770_105",ue="_title_15770_119",he="_description_15770_127",h={root:ce,searchPanel:oe,prefixIcon:le,input:_e,home:de,baseInfoList:ve,card:$e,title:ue,description:he},q=x("<div>"),fe=x('<div><img loading="lazy"><div></div><div>\u66F4\u65B0\u81F3\u300C<!>\u300D'),ge=()=>{const o=H(),s=()=>o()??[],[u,t]=A(s()),i=a=>{if(!a){t(s());return}const r=s().filter(({title:e})=>e.includes(a));t(r)};return T(()=>{o.loading||t(s())}),{mangaList:u,isLoading:o.loading,handleSearch:i}},be=()=>{const{mangaList:o,handleSearch:s}=ge(),{currentDetail:u,openDrawer:t,closeDrawer:i}=ee(),a=()=>(()=>{const r=q();return $(r,m(E,{get each(){return o()},children:e=>{const _=e.chapters[e.chapters.length-1];return(()=>{const n=fe(),d=n.firstChild,v=d.nextSibling,g=v.nextSibling,w=g.firstChild,I=w.nextSibling;return I.nextSibling,n.$$click=t,n.$$clickData=e,$(v,()=>e.title),$(g,()=>_.name,I),f(c=>{const L=h.card,C=h.cover,k=B.getCover(e.id),y=`cover-${e.id}`,M=h.title,P=e.title,R=h.description;return L!==c._v$&&l(n,c._v$=L),C!==c._v$2&&l(d,c._v$2=C),k!==c._v$3&&D(d,"src",c._v$3=k),y!==c._v$4&&D(d,"alt",c._v$4=y),M!==c._v$5&&l(v,c._v$5=M),P!==c._v$6&&D(v,"title",c._v$6=P),R!==c._v$7&&l(g,c._v$7=R),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),n})()}})),f(()=>l(r,h.baseInfoList)),r})();return(()=>{const r=q();return $(r,m(ae,{get class(){return h.searchPanel},onSearch:s}),null),$(r,a,null),$(r,m(V,{get info(){return u()},onClose:i}),null),f(()=>l(r,h.home)),r})()};p(["click"]);export{be as default};
