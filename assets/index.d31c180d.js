import{d as I,c as m,S as j,a as h,b as l,i as u,s as b,P as A,t as D,F as R,e as G,u as H,f as O,g as E}from"./index.f29fdda9.js";const T="https://www.cartoonmad.com",U=n=>`${T}/cartoonimg/coimg/${n}.jpg`,B={getCover:U},W="_root_104aq_1",z="_bg-mask_104aq_36",J="_detail-drawer_104aq_44",K="_brief-info_104aq_62",Q="_chapter-list_104aq_79",X="_chapter_104aq_79",x={root:W,bgMask:z,detailDrawer:J,briefInfo:K,chapterList:Q,chapter:X},P=D("<div></div>"),Y=D('<div><div><img alt="cover"><h5></h5></div><div></div></div>'),Z=n=>{const a=()=>{n.onClose()},$=e=>m(R,{each:e,children:({name:c})=>(()=>{const r=P.cloneNode(!0);return u(r,c),h(()=>l(r,x.chapter)),r})()});return m(A,{get mount(){return document.getElementById("root")??void 0},get children(){return m(j,{get when(){return n.info},get children(){return[(()=>{const e=P.cloneNode(!0);return e.$$click=a,h(()=>l(e,x.bgMask)),e})(),(()=>{const e=Y.cloneNode(!0),c=e.firstChild,r=c.firstChild,s=r.nextSibling,t=c.nextSibling;return u(s,()=>n.info.title),u(t,()=>$(n.info.chapters)),h(o=>{const _=x.detailDrawer,d=x.briefInfo,v=B.getCover(n.info.id),g=x.chapterList;return _!==o._v$&&l(e,o._v$=_),d!==o._v$2&&l(c,o._v$2=d),v!==o._v$3&&b(r,"src",o._v$3=v),g!==o._v$4&&l(t,o._v$4=g),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})()]}})}})};I(["click"]);const V="_search-panel_5srlq_1",ee="_prefixIcon_5srlq_14",te="_input_5srlq_22",w={searchPanel:V,prefixIcon:ee,input:te},ne=D('<div><div></div><input type="text"></div>'),re=n=>{let a;const $=e=>{e.code==="Enter"&&(console.log(a.value),n.onSearch(a.value))};return(()=>{const e=ne.cloneNode(!0),c=e.firstChild,r=c.nextSibling;r.$$keyup=$;const s=a;return typeof s=="function"?H(s,r):a=r,h(t=>{const o=w.searchPanel,_={[n.class]:!!n.class},d=w.prefixIcon,v=w.input;return o!==t._v$&&l(e,t._v$=o),t._v$2=G(e,_,t._v$2),d!==t._v$3&&l(c,t._v$3=d),v!==t._v$4&&l(r,t._v$4=v),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})()};I(["keyup"]);const se="_search-panel_3m3xn_1",ae="_prefixIcon_3m3xn_14",ie="_input_3m3xn_22",ce="_home_3m3xn_32",oe="_base-info-list_3m3xn_44",le="_card_3m3xn_50",_e="_title_3m3xn_64",de="_description_3m3xn_72",f={searchPanel:se,prefixIcon:ae,input:ie,home:ce,baseInfoList:oe,card:le,title:_e,description:de},y=D("<div></div>"),ve=D("<div><img><div></div><div>\u66F4\u65B0\u81F3\u300C<!>\u300D</div></div>"),ue=()=>{const n=O(),a=()=>n()??[],[$,e]=E(a()),c=r=>{if(!r){e(a());return}const s=a().filter(({title:t})=>t.includes(r));e(s)};return{mangaList:$,isLoading:n.loading,handleSearch:c}},$e=()=>{const[n,a]=E();return{currentDetail:n,openDrawer:c=>{a(c)},closeDrawer:()=>{a(void 0)}}},he=()=>{const{mangaList:n,handleSearch:a}=ue(),{currentDetail:$,openDrawer:e,closeDrawer:c}=$e(),r=()=>(()=>{const s=y.cloneNode(!0);return u(s,m(R,{get each(){return n()},children:t=>{const o=t.chapters[t.chapters.length-1];return(()=>{const _=ve.cloneNode(!0),d=_.firstChild,v=d.nextSibling,g=v.nextSibling,F=g.firstChild,S=F.nextSibling;return S.nextSibling,_.$$click=e,_.$$clickData=t,u(v,()=>t.title),u(g,()=>o.name,S),h(i=>{const L=f.card,C=f.cover,p=B.getCover(t.id),M=`cover-${t.id}`,k=f.title,q=t.title,N=f.description;return L!==i._v$&&l(_,i._v$=L),C!==i._v$2&&l(d,i._v$2=C),p!==i._v$3&&b(d,"src",i._v$3=p),M!==i._v$4&&b(d,"alt",i._v$4=M),k!==i._v$5&&l(v,i._v$5=k),q!==i._v$6&&b(v,"title",i._v$6=q),N!==i._v$7&&l(g,i._v$7=N),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),_})()}})),h(()=>l(s,f.baseInfoList)),s})();return(()=>{const s=y.cloneNode(!0);return u(s,m(re,{get class(){return f.searchPanel},onSearch:a}),null),u(s,r,null),u(s,m(Z,{get info(){return $()},onClose:c}),null),h(()=>l(s,f.home)),s})()};I(["click"]);export{he as default};
