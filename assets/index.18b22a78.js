import{d as y,c as g,S as B,a as p,b as l,i as v,s as w,P as F,t as b,A as N,g as U,F as R,e as E,f as z,u as H,h as T,j as W}from"./index.ed1794c1.js";import{U as A}from"./url-transformer.6b2c128d.js";const G="_root_1jgab_1",J="_bg-mask_1jgab_36",K="_detail-drawer_1jgab_44",O="_brief-info_1jgab_62",Q="_chapter-list_1jgab_79",X="_chapter_1jgab_79",m={root:G,bgMask:J,detailDrawer:K,briefInfo:O,chapterList:Q,chapter:X},Y=b("<div>"),Z=b('<div><div><img alt="cover"><h5></div><div>'),V=o=>{const s=()=>{o.onClose()},u=(t,r)=>g(R,{each:t,children:({name:i,index:n})=>g(N,{get class(){return m.chapter},get href(){return U({mangaId:r,chapterIndex:n,pageIndex:1})},children:i})});return g(F,{get mount(){return document.getElementById("root")??void 0},get children(){return g(B,{get when(){return o.info},children:t=>[(()=>{const r=Y();return r.$$click=s,p(()=>l(r,m.bgMask)),r})(),(()=>{const r=Z(),i=r.firstChild,n=i.firstChild,e=n.nextSibling,$=i.nextSibling;return v(e,()=>t().title),v($,()=>u(t().chapters,t().id)),p(a=>{const _=m.detailDrawer,d=m.briefInfo,f=A.getCover(t().id),D=m.chapterList;return _!==a._v$&&l(r,a._v$=_),d!==a._v$2&&l(i,a._v$2=d),f!==a._v$3&&w(n,"src",a._v$3=f),D!==a._v$4&&l($,a._v$4=D),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()]})}})};y(["click"]);const ee=()=>{const[o,s]=E();return{currentDetail:o,openDrawer:r=>{s(r)},closeDrawer:()=>{s(void 0)}}},te="_root_17pwp_1",ne="_search-panel_17pwp_36",re="_prefixIcon_17pwp_49",ae="_input_17pwp_57",x={root:te,searchPanel:ne,prefixIcon:re,input:ae},se=b('<div><div></div><input type="text">'),ie=o=>{let s;const u=t=>{t.code==="Enter"&&o.onSearch(s.value)};return(()=>{const t=se(),r=t.firstChild,i=r.nextSibling;i.$$keyup=u;const n=s;return typeof n=="function"?H(n,i):s=i,p(e=>{const $=x.searchPanel,a={[o.class]:!!o.class},_=x.prefixIcon,d=x.input;return $!==e._v$&&l(t,e._v$=$),e._v$2=z(t,a,e._v$2),_!==e._v$3&&l(r,e._v$3=_),d!==e._v$4&&l(i,e._v$4=d),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()};y(["keyup"]);const ce="_root_uyrqp_1",oe="_search-panel_uyrqp_36",le="_prefixIcon_uyrqp_49",_e="_input_uyrqp_57",de="_home_uyrqp_67",ue="_base-info-list_uyrqp_79",ve="_card_uyrqp_85",$e="_title_uyrqp_99",he="_description_uyrqp_107",h={root:ce,searchPanel:oe,prefixIcon:le,input:_e,home:de,baseInfoList:ue,card:ve,title:$e,description:he},j=b("<div>"),ge=b('<div><img loading="lazy"><div></div><div>\u66F4\u65B0\u81F3\u300C<!>\u300D'),fe=()=>{const o=T(),s=()=>o()??[],[u,t]=E(s()),r=i=>{if(!i){t(s());return}const n=s().filter(({title:e})=>e.includes(i));t(n)};return W(()=>{o.loading||t(s())}),{mangaList:u,isLoading:o.loading,handleSearch:r}},be=()=>{const{mangaList:o,handleSearch:s}=fe(),{currentDetail:u,openDrawer:t,closeDrawer:r}=ee(),i=()=>(()=>{const n=j();return v(n,g(R,{get each(){return o()},children:e=>{const $=e.chapters[e.chapters.length-1];return(()=>{const a=ge(),_=a.firstChild,d=_.nextSibling,f=d.nextSibling,D=f.firstChild,S=D.nextSibling;return S.nextSibling,a.$$click=t,a.$$clickData=e,v(d,()=>e.title),v(f,()=>$.name,S),p(c=>{const I=h.card,L=h.cover,C=A.getCover(e.id),k=`cover-${e.id}`,M=h.title,q=e.title,P=h.description;return I!==c._v$&&l(a,c._v$=I),L!==c._v$2&&l(_,c._v$2=L),C!==c._v$3&&w(_,"src",c._v$3=C),k!==c._v$4&&w(_,"alt",c._v$4=k),M!==c._v$5&&l(d,c._v$5=M),q!==c._v$6&&w(d,"title",c._v$6=q),P!==c._v$7&&l(f,c._v$7=P),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),a})()}})),p(()=>l(n,h.baseInfoList)),n})();return(()=>{const n=j();return v(n,g(ie,{get class(){return h.searchPanel},onSearch:s}),null),v(n,i,null),v(n,g(V,{get info(){return u()},onClose:r}),null),p(()=>l(n,h.home)),n})()};y(["click"]);export{be as default};
