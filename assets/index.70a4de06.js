import{d as p,c as f,a as l,b as A,t as x,u as N,e as $,S as U,i as u,s as b,P as j,F as E,g as z,f as F,h as H,j as T}from"./index.25690b3d.js";import{U as B}from"./url-transformer.767649fe.js";const W="_root_1xsmy_1",G="_search-panel_1xsmy_50",J="_prefixIcon_1xsmy_63",K="_input_1xsmy_76",S={root:W,searchPanel:G,prefixIcon:J,input:K};var O=x("<div><div></div><input type=text>");const Q=c=>{let i;const h=t=>{t.code==="Enter"&&c.onSearch(i.value)};return(()=>{var t=O(),n=t.firstChild,s=n.nextSibling;s.$$keyup=h;var a=i;return typeof a=="function"?N(a,s):i=s,f(e=>{var d=S.searchPanel,r={[c.class]:!!c.class},v=S.prefixIcon,_=S.input;return d!==e.e&&l(t,e.e=d),e.t=A(t,r,e.t),v!==e.a&&l(n,e.a=v),_!==e.o&&l(s,e.o=_),e},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};p(["keyup"]);const X="_root_15770_1",Y="_search-panel_15770_50",Z="_prefixIcon_15770_63",V="_input_15770_76",ee="_home_15770_87",te="_base-info-list_15770_99",re="_card_15770_105",ae="_title_15770_119",ne="_description_15770_127",g={root:X,searchPanel:Y,prefixIcon:Z,input:V,home:ee,baseInfoList:te,card:re,title:ae,description:ne},ie="_root_1iiqr_1",se="_bg-mask_1iiqr_50",oe="_detail-drawer_1iiqr_58",ce="_brief-info_1iiqr_77",le="_chapter-list_1iiqr_94",de="_chapter_1iiqr_94",D={root:ie,bgMask:se,detailDrawer:oe,briefInfo:ce,chapterList:le,chapter:de};var ve=x("<a target=_blank rel=noreferrer>"),_e=x("<div>"),ue=x("<div><div><img alt=cover><h5></h5></div><div>");const he=c=>{const i=()=>{c.onClose()},h=(t,n)=>$(E,{each:t,children:({name:s,index:a})=>(()=>{var e=ve();return u(e,s),f(d=>{var r=D.chapter,v=`${window.location.pathname}#${z({mangaId:n,chapterIndex:a,pageIndex:1})}`;return r!==d.e&&l(e,d.e=r),v!==d.t&&b(e,"href",d.t=v),d},{e:void 0,t:void 0}),e})()});return $(j,{get mount(){return document.getElementById("root")??void 0},get children(){return $(U,{get when(){return c.info},children:t=>[(()=>{var n=_e();return n.$$click=i,f(()=>l(n,D.bgMask)),n})(),(()=>{var n=ue(),s=n.firstChild,a=s.firstChild,e=a.nextSibling,d=s.nextSibling;return u(e,()=>t().title),u(d,()=>h(t().chapters,t().id)),f(r=>{var v=D.detailDrawer,_=D.briefInfo,m=B.getCover(t().id),w=D.chapterList;return v!==r.e&&l(n,r.e=v),_!==r.t&&l(s,r.t=_),m!==r.a&&b(a,"src",r.a=m),w!==r.o&&l(d,r.o=w),r},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()]})}})};p(["click"]);const ge=()=>{const[c,i]=F();return{currentDetail:c,openDrawer:n=>{i(n)},closeDrawer:()=>{i(void 0)}}};var q=x("<div>"),fe=x("<div><img loading=lazy><div></div><div>\u66F4\u65B0\u81F3\u300C<!>\u300D");const me=()=>{const c=H(),i=()=>c()??[],[h,t]=F(i()),n=s=>{if(!s){t(i());return}const a=i().filter(({title:e})=>e.includes(s));t(a)};return T(()=>{c.loading||t(i())}),{mangaList:h,isLoading:c.loading,handleSearch:n}},De=()=>{const{mangaList:c,handleSearch:i}=me(),{currentDetail:h,openDrawer:t,closeDrawer:n}=ge(),s=()=>(()=>{var a=q();return u(a,$(E,{get each(){return c()},children:e=>{const d=e.chapters[e.chapters.length-1];return(()=>{var r=fe(),v=r.firstChild,_=v.nextSibling,m=_.nextSibling,w=m.firstChild,I=w.nextSibling;return I.nextSibling,r.$$click=t,r.$$clickData=e,u(_,()=>e.title),u(m,()=>d.name,I),f(o=>{var L=g.card,C=g.cover,k=B.getCover(e.id),y=`cover-${e.id}`,M=g.title,P=e.title,R=g.description;return L!==o.e&&l(r,o.e=L),C!==o.t&&l(v,o.t=C),k!==o.a&&b(v,"src",o.a=k),y!==o.o&&b(v,"alt",o.o=y),M!==o.i&&l(_,o.i=M),P!==o.n&&b(_,"title",o.n=P),R!==o.s&&l(m,o.s=R),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),r})()}})),f(()=>l(a,g.baseInfoList)),a})();return(()=>{var a=q();return u(a,$(Q,{get class(){return g.searchPanel},onSearch:i}),null),u(a,s,null),u(a,$(he,{get info(){return h()},onClose:n}),null),f(()=>l(a,g.home)),a})()};p(["click"]);export{De as default};
